-- O campo CPF foi escolhido como chave primária por se tratar de
-- um identificador único.
CREATE TABLE PESSOA(
    CPF VARCHAR(14),
    NOME_COMPLETO VARCHAR(100) NOT NULL,
    IDADE SMALLINT NOT NULL,
    PRIMARY KEY(CPF)
);

-- O ID dos cargos será definido manualmente, mas o correto num ambiente de produção real
-- seria utilizar uma combinação de trigger com generator para gerar o comportamento de um
-- AUTO INCREMENT.
CREATE TABLE CARGOS(
    ID INT,
    CARGO VARCHAR(100) NOT NULL,
    SALARIO_PADRAO FLOAT,
    PRIMARY KEY(ID)
);

CREATE TABLE PESSOA_CARGOS(
    CPF VARCHAR(14),
    ID_CARGO INT,
    SALARIO FLOAT,
    FOREIGN KEY(CPF) REFERENCES PESSOA(CPF),
    FOREIGN KEY(ID_CARGO) REFERENCES CARGOS (ID),
    PRIMARY KEY(CPF, ID_CARGO)
);

INSERT INTO PESSOA VALUES ('111.111.111-11', 'MARIA VITORIA GONCALVES', 40);
INSERT INTO PESSOA VALUES ('222.222.222-22', 'MARCELO ARAGAO', 19);
INSERT INTO PESSOA VALUES ('333.333.333-33', 'CAMILLA PIETRA', 26);
INSERT INTO PESSOA VALUES ('444.444.444-44', 'ELISA ALVES', 21);
INSERT INTO PESSOA VALUES ('555.555.555-55', 'JOAO VICENTE', 30);

INSERT INTO CARGOS VALUES (1, 'ADMINISTRADOR', 2200);
INSERT INTO CARGOS VALUES (2, 'CONTADOR ', 3000);
INSERT INTO CARGOS VALUES (3, 'VENDEDOR', 2000);

INSERT INTO PESSOA_CARGOS VALUES('111.111.111-11', 1, 2200);
INSERT INTO PESSOA_CARGOS VALUES('111.111.111-11', 2, 3000);
INSERT INTO PESSOA_CARGOS VALUES('222.222.222-22', 2, 4000);
INSERT INTO PESSOA_CARGOS VALUES('333.333.333-33', 3, 3000);
INSERT INTO PESSOA_CARGOS VALUES('444.444.444-44', 1, 2200);
INSERT INTO PESSOA_CARGOS VALUES('444.444.444-44', 2, 3000);
INSERT INTO PESSOA_CARGOS (CPF, ID_CARGO) VALUES ('555.555.555-55', 3);

